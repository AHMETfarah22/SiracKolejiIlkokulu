<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Personel İş Başvuru Formu</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>   
    :root {
      --primary: #0af1d3;
      --secondary: #e68d08;
      --light: #f8f9fa;
      --dark: #212529;
      --accent: #2a9d8f;
      --accent2: #f9a826;
      --border: rgba(0,0,0,0.12);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
      color: var(--dark);
      line-height: 1.6;
      padding-bottom: 50px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* HERO BÖLÜMÜ */
    .apply-hero {
      background: linear-gradient(135deg, var(--accent), var(--primary));
      padding: 80px 0 60px;
      text-align: center;
      color: white;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
    }
    
    .apply-hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path fill="rgba(255,255,255,0.05)" d="M0,0 L100,0 L100,100 Z"/></svg>');
      background-size: cover;
    }
    
    .apply-hero-box h1 {
      font-size: 42px;
      font-weight: 800;
      margin-bottom: 15px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }
    
    .apply-hero-box p {
      font-size: 18px;
      max-width: 800px;
      margin: 0 auto;
      opacity: 0.95;
    }
    
    /* FORM SAYFASI */
    .apply-page {
      padding: 40px 0;
    }
    
    /* FORM KARTI */
    .apply-card {
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      margin-bottom: 30px;
    }
    
    .apply-card-head {
      padding: 30px 40px 20px;
      background: linear-gradient(90deg, rgba(10, 241, 211, 0.1), rgba(42, 157, 143, 0.08));
      border-bottom: 1px solid var(--border);
    }
    
    .apply-card-head h2 {
      font-size: 28px;
      font-weight: 800;
      color: var(--dark);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .apply-card-head h2 i {
      color: var(--accent);
    }
    
    .apply-card-head p {
      color: rgba(33, 37, 41, 0.7);
      font-size: 16px;
    }
    
    /* FORM STİLLERİ */
    .apply-form {
      padding: 30px 40px 40px;
    }
    
    .form-section {
      margin-bottom: 40px;
    }
    
    .section-title {
      font-size: 20px;
      font-weight: 700;
      color: var(--accent);
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid rgba(10, 241, 211, 0.3);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .section-title i {
      font-size: 22px;
    }
    
    .form-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }
    
    .form-grid-3 {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
    }
    
    @media (max-width: 768px) {
      .form-grid,
      .form-grid-3 {
        grid-template-columns: 1fr;
      }
    }
    
    .field {
      display: flex;
      flex-direction: column;
    }
    
    .field.full {
      grid-column: 1 / -1;
    }
    
    .field label {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 8px;
      color: rgba(33, 37, 41, 0.9);
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    .field label .required {
      color: #e74c3c;
    }
    
    .field input,
    .field select,
    .field textarea {
      padding: 14px 16px;
      border: 1px solid var(--border);
      border-radius: 12px;
      font-size: 15px;
      font-family: inherit;
      transition: all 0.3s ease;
      background: #fff;
    }
    
    .field input:focus,
    .field select:focus,
    .field textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(10, 241, 211, 0.2);
    }
    
    .field textarea {
      resize: vertical;
      min-height: 120px;
    }
    
    /* GÖREV SEÇİMİ */
    .position-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 15px;
      margin-top: 10px;
    }
    
    .position-option {
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      background: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 120px;
    }
    
    .position-option:hover {
      border-color: var(--primary);
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    }
    
    .position-option.selected {
      border-color: var(--accent);
      background: rgba(42, 157, 143, 0.05);
      box-shadow: 0 5px 15px rgba(42, 157, 143, 0.1);
    }
    
    .position-option i {
      font-size: 28px;
      margin-bottom: 10px;
      display: block;
      color: var(--accent);
    }
    
    /* BRANŞ SAYFASI - MODAL */
    .branch-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 2000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .branch-modal.active {
      display: flex;
      animation: fadeIn 0.3s ease;
    }
    
    .branch-modal-content {
      background: white;
      border-radius: 20px;
      width: 100%;
      max-width: 900px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }
    
    .branch-modal-header {
      padding: 25px 30px 20px;
      background: linear-gradient(90deg, rgba(10, 241, 211, 0.1), rgba(42, 157, 143, 0.08));
      border-bottom: 1px solid var(--border);
      position: relative;
    }
    
    .branch-modal-header h3 {
      font-size: 24px;
      font-weight: 800;
      color: var(--dark);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .branch-modal-header h3 i {
      color: var(--accent);
    }
    
    .close-modal {
      position: absolute;
      top: 25px;
      right: 25px;
      background: none;
      border: none;
      font-size: 24px;
      color: var(--dark);
      cursor: pointer;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }
    
    .close-modal:hover {
      background: rgba(0, 0, 0, 0.05);
      transform: rotate(90deg);
    }
    
    .branch-modal-body {
      padding: 30px;
    }
    
    .branch-categories {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .branch-category {
      background: rgba(248, 249, 250, 0.7);
      border-radius: 12px;
      padding: 20px;
      border-left: 4px solid var(--accent);
    }
    
    .branch-category h4 {
      color: var(--accent);
      margin-bottom: 15px;
      font-size: 18px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .subject-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .subject-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px;
      background: white;
      border-radius: 8px;
      border: 1px solid var(--border);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .subject-item:hover {
      border-color: var(--primary);
      transform: translateX(5px);
    }
    
    .subject-item.selected {
      border-color: var(--accent);
      background: rgba(42, 157, 143, 0.08);
    }
    
    .subject-item i {
      color: var(--accent);
      font-size: 18px;
      width: 24px;
    }
    
    .subject-checkbox {
      width: 20px;
      height: 20px;
      border-radius: 4px;
      border: 2px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-left: auto;
    }
    
    .subject-item.selected .subject-checkbox {
      background: var(--accent);
      border-color: var(--accent);
      color: white;
    }
    
    .subject-item.selected .subject-checkbox::after {
      content: '✓';
      font-size: 14px;
      font-weight: bold;
    }
    
    .branch-modal-footer {
      padding: 20px 30px;
      border-top: 1px solid var(--border);
      display: flex;
      justify-content: flex-end;
      gap: 15px;
    }
    
    /* DOSYA YÜKLEME */
    .file-upload-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin-top: 20px;
    }
    
    @media (max-width: 768px) {
      .file-upload-container {
        grid-template-columns: 1fr;
      }
    }
    
    .file-upload-box {
      border: 2px dashed var(--border);
      border-radius: 12px;
      padding: 25px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      background: rgba(248, 249, 250, 0.5);
    }
    
    .file-upload-box:hover {
      border-color: var(--primary);
      background: rgba(10, 241, 211, 0.05);
    }
    
    .file-upload-box i {
      font-size: 40px;
      color: var(--accent);
      margin-bottom: 15px;
    }
    
    .file-name {
      margin-top: 10px;
      font-size: 14px;
      color: var(--accent);
      word-break: break-all;
    }
    
    /* KVKK ONAYI */
    .consent {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 20px;
      background: rgba(248, 249, 250, 0.9);
      border-radius: 12px;
      border: 1px solid var(--border);
      margin: 30px 0;
    }
    
    .consent input {
      margin-top: 4px;
    }
    
    .consent label {
      font-size: 14px;
      color: rgba(33, 37, 41, 0.85);
      line-height: 1.5;
    }
    
    /* BUTONLAR */
    .actions {
      display: flex;
      gap: 15px;
      align-items: center;
      margin-top: 30px;
      flex-wrap: wrap;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, var(--accent2), var(--secondary));
      color: white;
      border: none;
      padding: 16px 32px;
      border-radius: 12px;
      font-weight: 700;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 20px rgba(230, 141, 8, 0.3);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 25px rgba(230, 141, 8, 0.4);
    }
    
    .btn-primary:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }
    
    .btn-secondary {
      background: var(--accent);
      color: white;
      border: none;
      padding: 14px 28px;
      border-radius: 12px;
      font-weight: 700;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .btn-secondary:hover {
      background: #238b7d;
      transform: translateY(-2px);
    }
    
    .btn-ghost {
      padding: 16px 24px;
      border-radius: 12px;
      font-weight: 700;
      font-size: 16px;
      background: rgba(33, 37, 41, 0.06);
      color: var(--dark);
      text-decoration: none;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
      border: none;
      cursor: pointer;
    }
    
    .btn-ghost:hover {
      background: rgba(33, 37, 41, 0.1);
      transform: translateY(-2px);
    }
    
    /* BİLGİ KUTUSU */
    .apply-info {
      background: white;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.08);
      border-top: 5px solid var(--accent);
    }
    
    .apply-info h3 {
      font-size: 24px;
      font-weight: 800;
      margin-bottom: 15px;
      color: var(--dark);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .apply-info p {
      color: rgba(33, 37, 41, 0.7);
      margin-bottom: 20px;
      font-size: 16px;
    }
    
    .info-row {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 15px 0;
      border-top: 1px solid var(--border);
    }
    
    .info-row i {
      font-size: 20px;
      color: var(--accent);
      width: 30px;
    }
    
    /* İLERLEME ÇUBUĞU */
    .progress-container {
      margin-bottom: 30px;
    }
    
    .progress-bar {
      height: 6px;
      background: rgba(33, 37, 41, 0.1);
      border-radius: 3px;
      overflow: hidden;
      margin-bottom: 15px;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      border-radius: 3px;
      width: 25%;
      transition: width 0.5s ease;
    }
    
    .progress-steps {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
      font-weight: 600;
      color: rgba(33, 37, 41, 0.6);
    }
    
    .progress-steps .active {
      color: var(--accent);
    }
    
    /* HATA MESAJI */
    .error-message {
      display: none;
      background-color: rgba(231, 76, 60, 0.1);
      color: #e74c3c;
      padding: 12px 16px;
      border-radius: 8px;
      border-left: 4px solid #e74c3c;
      margin-top: 15px;
      font-size: 14px;
      font-weight: 600;
    }
    
    .error-message.show {
      display: block;
      animation: shake 0.5s ease;
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }
    
    /* GERİ BİLDİRİM MESAJI */
    .feedback {
      display: none;
      padding: 20px;
      border-radius: 12px;
      margin-top: 20px;
      font-weight: 600;
    }
    
    .feedback.success {
      background: rgba(46, 204, 113, 0.1);
      color: #27ae60;
      border-left: 4px solid #27ae60;
    }
    
    .feedback.error {
      background: rgba(231, 76, 60, 0.1);
      color: #c0392b;
      border-left: 4px solid #c0392b;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
  </style>
</head>
<body>

  <!-- Sayfa Başlığı -->
  <header class="apply-hero">
    <div class="container">
      <div class="apply-hero-box">
        <h1><i class="fas fa-briefcase"></i> Personel İş Başvuru Formu</h1>
        <p>Kurumumuzda çalışmak için başvurunuzu aşağıdaki formdan iletebilirsiniz. Lütfen tüm bilgileri eksiksiz doldurunuz.</p>
      </div>
    </div>
  </header>

  <!-- Form -->
  <main class="apply-page">
    <div class="container">
      
      <!-- İlerleme Çubuğu -->
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-steps">
          <span class="active">Kişisel Bilgiler</span>
          <span>Görev Seçimi</span>
          <span>Branş & Diğer</span>
          <span>Son Adım</span>
        </div>
      </div>

      <!-- Form Kartı -->
      <section class="apply-card">
        <div class="apply-card-head">
          <h2><i class="fas fa-file-alt"></i> Başvuru Formu</h2>
          <p>Lütfen aşağıdaki tüm bölümleri eksiksiz doldurunuz.</p>
        </div>

        <form class="apply-form" id="applicationForm" action="#" method="post" enctype="multipart/form-data">
          <!-- Bölüm 1: Kişisel Bilgiler -->
          <div class="form-section" id="section1">
            <h3 class="section-title"><i class="fas fa-user"></i> Kişisel Bilgiler</h3>
            
            <div class="form-grid">
              <div class="field">
                <label for="fullname">Ad Soyad <span class="required">*</span></label>
                <input id="fullname" name="fullname" type="text" placeholder="Örn: Ahmet Yılmaz" required>
              </div>

              <div class="field">
                <label for="phone">Telefon <span class="required">*</span></label>
                <input id="phone" name="phone" type="tel" placeholder="Örn: 05xx xxx xx xx" required>
              </div>

              <div class="field">
                <label for="email">E-posta <span class="required">*</span></label>
                <input id="email" name="email" type="email" placeholder="Örn: ahmet@email.com" required>
              </div>

              <div class="field">
                <label for="birthdate">Doğum Tarihi <span class="required">*</span></label>
                <input id="birthdate" name="birthdate" type="date" required>
              </div>

              <div class="field">
                <label for="city">İl / İlçe <span class="required">*</span></label>
                <input id="city" name="city" type="text" placeholder="Örn: cannakle /Merkez" required>
              </div>

              <div class="field">
                <label for="gender">Cinsiyet <span class="required">*</span></label>
                <select id="gender" name="gender" required>
                  <option value="" selected disabled>Seçiniz</option>
                  <option value="male">Erkek</option>
                  <option value="female">Kadın</option>
                </select>
              </div>

              <div class="field">
                <label for="marital">Medeni Hal <span class="required">*</span></label>
                <select id="marital" name="marital" required>
                  <option value="" selected disabled>Seçiniz</option>
                  <option value="single">Bekar</option>
                  <option value="married">Evli</option>
                </select>
              </div>

              <div class="field">
                <label for="military">Askerlik Durumu</label>
                <select id="military" name="military">
                  <option value="" selected disabled>Seçiniz</option>
                  <option value="done">Evet</option>
                  <option value="postponed">Hayır</option>
                  <option value="exempt">Muaf</option>
                </select>
              </div>
            </div>
            
            <div class="actions" style="margin-top: 20px; justify-content: flex-end;">
              <button type="button" class="btn-primary next-section" data-next="section2" id="nextToSection2">
                Sonraki <i class="fas fa-arrow-right"></i>
              </button>
            </div>
          </div>

          <!-- Bölüm 2: Görev Seçimi -->
          <div class="form-section" id="section2" style="display: none;">
            <h3 class="section-title"><i class="fas fa-tasks"></i> Görev Seçimi</h3>
            <p>Başvurmak istediğiniz görevi seçiniz: <span style="color: #e74c3c;">*</span></p>
            
            <div class="position-grid">
              <div class="position-option" data-position="teacher">
                <i class="fas fa-chalkboard-teacher"></i>
                <div><strong>Öğretmen</strong></div>
              </div>
              
              <div class="position-option" data-position="it">
                <i class="fas fa-laptop-code"></i>
                <div><strong>Bilişim / Bilgi İşlem</strong></div>
              </div>
              
              <div class="position-option" data-position="management">
                <i class="fas fa-user-tie"></i>
                <div><strong>Eğitim Yönetimi</strong></div>
              </div>
              
              <div class="position-option" data-position="engelli">
                <i class="fas fa-wheelchair"></i>
                <div><strong>Engelli Personel</strong></div>
              </div>
              
              <div class="position-option" data-position="finance">
                <i class="fas fa-chart-line"></i>
                <div><strong>Finans</strong></div>
              </div>
              
              <div class="position-option" data-position="security">
                <i class="fas fa-shield-alt"></i>
                <div><strong>Güvenlik</strong></div>
              </div>
              
              <div class="position-option" data-position="public">
                <i class="fas fa-users"></i>
                <div><strong>Halkla İlişkiler</strong></div>
              </div>
              
              <div class="position-option" data-position="admin">
                <i class="fas fa-file-contract"></i>
                <div><strong>İdari İşler</strong></div>
              </div>
              
              <div class="position-option" data-position="hr">
                <i class="fas fa-users-cog"></i>
                <div><strong>İnsan Kaynakları</strong></div>
              </div>
              
              <div class="position-option" data-position="driver">
                <i class="fas fa-bus"></i>
                <div><strong>Şoför</strong></div>
              </div>
              
              <div class="position-option" data-position="psychologist">
                <i class="fas fa-brain"></i>
                <div><strong>Psikolog</strong></div>
              </div>
              
              <div class="position-option" data-position="intern">
                <i class="fas fa-user-graduate"></i>
                <div><strong>Stajyer</strong></div>
              </div>
              
              <div class="position-option" data-position="gardener">
                <i class="fas fa-leaf"></i>
                <div><strong>Bahçe İşleri</strong></div>
              </div>
              
              <div class="position-option" data-position="cook">
                <i class="fas fa-utensils"></i>
                <div><strong>Aşçı</strong></div>
              </div>
              
              <div class="position-option" data-position="cleaning">
                <i class="fas fa-broom"></i>
                <div><strong>Temizlik Elemanı</strong></div>
              </div>
            </div>
            
            <!-- Hata Mesajı -->
            <div class="error-message" id="positionError"></div>
            
            <input type="hidden" id="selectedPosition" name="position" value="">
            <input type="hidden" id="selectedSubjects" name="subjects" value="">
            
            <div class="actions" style="margin-top: 30px; justify-content: space-between;">
              <button type="button" class="btn-ghost prev-section" data-prev="section1">
                <i class="fas fa-arrow-left"></i> Geri
              </button>
              <button type="button" class="btn-primary next-section" data-next="section3" id="nextToSection3" disabled>
                Sonraki <i class="fas fa-arrow-right"></i>
              </button>
            </div>
          </div>

          <!-- Bölüm 3: Diğer Bilgiler -->
          <div class="form-section" id="section3" style="display: none;">
            <h3 class="section-title"><i class="fas fa-graduation-cap"></i> Diğer Bilgiler</h3>
            
            <!-- Seçilen Görev Bilgisi -->
            <div style="background: rgba(42, 157, 143, 0.05); padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid var(--accent);">
              <h4 style="color: var(--accent); margin-bottom: 5px;">Seçilen Görev:</h4>
              <p id="selectedPositionDisplay" style="font-weight: 600;"></p>
              <p id="selectedSubjectsDisplay" style="margin-top: 5px; font-size: 14px;"></p>
            </div>
            
            <!-- Diğer Form Alanları -->
            <div class="form-grid" style="margin-top: 20px;">
              <div class="field">
                <label for="education">Eğitim Durumu</label>
                <select id="education" name="education">
                  <option value="" selected>Seçiniz (İsteğe bağlı)</option>
                  <option>Lise</option>
                  <option>Ön Lisans</option>
                  <option>Lisans</option>
                  <option>Yüksek Lisans</option>
                  <option>Doktora</option>
                </select>
              </div>

              <div class="field">
                <label for="experience">Deneyim (Yıl)</label>
                <input id="experience" name="experience" type="number" min="0" max="50" placeholder="Örn: 3 (İsteğe bağlı)">
              </div>
              <div class="field full">
                <label for="about">Ek Bilgiler / Notlar</label>
                <textarea id="about" name="about" rows="4" placeholder="Kendiniz hakkında eklemek istediğiniz bilgiler... (İsteğe bağlı)"></textarea>
              </div>
            </div>
            
            <!-- Dosya Yükleme (CV ve Fotoğraf) -->
            <div class="field full" style="margin-top: 30px;">
              <label>Dosya Yükleme (İsteğe bağlı)</label>
              <div class="file-upload-container">
                <div class="file-upload-box" id="cvUpload">
                  <i class="fas fa-file-pdf"></i>
                  <p><strong>CV Yükle</strong></p>
                  <p style="font-size: 14px; color: rgba(33,37,41,0.7); margin-top: 5px;">PDF, DOC, DOCX formatlarında</p>
                  <input type="file" id="cv" name="cv" accept=".pdf,.doc,.docx" style="display: none;">
                  <div id="cvFileName" class="file-name"></div>
                </div>
                
                <div class="file-upload-box" id="photoUpload">
                  <i class="fas fa-camera"></i>
                  <p><strong>Fotoğraf Yükle</strong></p>
                  <p style="font-size: 14px; color: rgba(33,37,41,0.7); margin-top: 5px;">JPG, PNG formatlarında</p>
                  <input type="file" id="photo" name="photo" accept=".jpg,.jpeg,.png" style="display: none;">
                  <div id="photoFileName" class="file-name"></div>
                </div>
              </div>
            </div>
            
            <div class="actions" style="margin-top: 30px; justify-content: space-between;">
              <button type="button" class="btn-ghost prev-section" data-prev="section2">
                <i class="fas fa-arrow-left"></i> Geri
              </button>
              <button type="button" class="btn-primary next-section" data-next="section4" id="nextToSection4">
                Sonraki <i class="fas fa-arrow-right"></i>
              </button>
            </div>
          </div>

          <!-- Bölüm 4: Son Adım -->
          <div class="form-section" id="section4" style="display: none;">
            <h3 class="section-title"><i class="fas fa-check-circle"></i> Son Adım</h3>
            
            <div class="consent">
              <input id="kvkk" name="kvkk" type="checkbox">
              <label for="kvkk">
                <strong>KVKK Aydınlatma Metni (İsteğe bağlı)</strong><br>
                Kişisel verilerimin, 6698 sayılı Kişisel Verilerin Korunması Kanunu kapsamında, başvuru sürecinin yürütülmesi amacıyla işlenmesini ve kurumumuz tarafından saklanmasını kabul ediyorum.
              </label>
            </div>
            
            <div class="consent">
              <input id="approval" name="approval" type="checkbox">
              <label for="approval">
                <strong>Başvuru Onayı (İsteğe bağlı)</strong><br>
                Formda belirttiğim tüm bilgilerin doğru olduğunu ve eksiksiz olarak doldurduğumu beyan ederim. Yanlış beyanda bulunmam halinde başvurumun geçersiz sayılacağını kabul ediyorum.
              </label>
            </div>
            
            <div class="feedback" id="formFeedback"></div>
            
            <div class="actions" style="margin-top: 30px; justify-content: space-between;">
              <button type="button" class="btn-ghost prev-section" data-prev="section3">
                <i class="fas fa-arrow-left"></i> Geri
              </button>
              <button class="btn-primary" type="submit">
                <i class="fas fa-paper-plane"></i> Başvuruyu Gönder
              </button>
            </div>
          </div>

        </form>
      </section>
    </div>
  </main>

  <!-- Branş Seçim Modalı -->
  <div class="branch-modal" id="branchModal">
    <div class="branch-modal-content">
      <div class="branch-modal-header">
        <h3><i class="fas fa-book-open"></i> Ders Seçimi</h3>
        <p>Öğretmen görevi için verebileceğiniz dersleri seçiniz:</p>
        <button class="close-modal" id="closeModal">&times;</button>
      </div>
      
      <div class="branch-modal-body">
        <div class="branch-categories">
          <div class="branch-category">
            <h4><i class="fas fa-language"></i> Dil Dersleri</h4>
            <div class="subject-list">
              <div class="subject-item" data-subject="turkce">
                <i class="fas fa-book"></i>
                <span>Türkçe</span>
                <div class="subject-checkbox"></div>
              </div>
              <div class="subject-item" data-subject="ingilizce">
                <i class="fas fa-globe-americas"></i>
                <span>İngilizce</span>
                <div class="subject-checkbox"></div>
              </div>
              <div class="subject-item" data-subject="arapca">
                <i class="fas fa-pen-nib"></i>
                <span>Arapça</span>
                <div class="subject-checkbox"></div>
              </div>
            </div>
          </div>
          
          <div class="branch-category">
            <h4><i class="fas fa-calculator"></i> Sayısal Dersler</h4>
            <div class="subject-list">
              <div class="subject-item" data-subject="matematik">
                <i class="fas fa-square-root-alt"></i>
                <span>Matematik</span>
                <div class="subject-checkbox"></div>
              </div>
              <div class="subject-item" data-subject="fen">
                <i class="fas fa-flask"></i>
                <span>Fen Bilimleri</span>
                <div class="subject-checkbox"></div>
              </div>
              <div class="subject-item" data-subject="bilgisayar">
                <i class="fas fa-laptop"></i>
                <span>Bilişim Teknolojileri</span>
                <div class="subject-checkbox"></div>
              </div>
            </div>
          </div>
          
          <div class="branch-category">
            <h4><i class="fas fa-globe-europe"></i> Sosyal Dersler</h4>
            <div class="subject-list">
              <div class="subject-item" data-subject="sosyal">
                <i class="fas fa-globe-asia"></i>
                <span>Sosyal Bilgiler</span>
                <div class="subject-checkbox"></div>
              </div>
              <div class="subject-item" data-subject="din">
                <i class="fas fa-pray"></i>
                <span>Din Kültürü ve Ahlak Bilgisi</span>
                <div class="subject-checkbox"></div>
              </div>
              <div class="subject-item" data-subject="tarih">
                <i class="fas fa-landmark"></i>
                <span>Tarih</span>
                <div class="subject-checkbox"></div>
              </div>
            </div>
          </div>
          
          <div class="branch-category">
            <h4><i class="fas fa-palette"></i> Sanat ve Spor</h4>
            <div class="subject-list">
              <div class="subject-item" data-subject="beden">
                <i class="fas fa-running"></i>
                <span>Beden Eğitimi</span>
                <div class="subject-checkbox"></div>
              </div>
              <div class="subject-item" data-subject="muzik">
                <i class="fas fa-music"></i>
                <span>Müzik</span>
                <div class="subject-checkbox"></div>
              </div>
              <div class="subject-item" data-subject="resim">
                <i class="fas fa-paint-brush"></i>
                <span>Görsel Sanatlar</span>
                <div class="subject-checkbox"></div>
              </div>
            </div>
          </div>
          
          <div class="branch-category">
            <h4><i class="fas fa-school"></i> Temel Branşlar</h4>
            <div class="subject-list">
              <div class="subject-item" data-subject="sinif">
                <i class="fas fa-chalkboard"></i>
                <span>Sınıf Öğretmenliği</span>
                <div class="subject-checkbox"></div>
              </div>
              <div class="subject-item" data-subject="okuloncesi">
                <i class="fas fa-child"></i>
                <span>Okul Öncesi</span>
                <div class="subject-checkbox"></div>
              </div>
              <div class="subject-item" data-subject="rehberlik">
                <i class="fas fa-hands-helping"></i>
                <span>Rehberlik</span>
                <div class="subject-checkbox"></div>
              </div>
            </div>
          </div>
          
          <div class="branch-category">
            <h4><i class="fas fa-graduation-cap"></i> Diğer Dersler</h4>
            <div class="subject-list">
              <div class="subject-item" data-subject="teknoloji">
                <i class="fas fa-robot"></i>
                <span>Teknoloji Tasarım</span>
                <div class="subject-checkbox"></div>
              </div>
              <div class="subject-item" data-subject="zeka">
                <i class="fas fa-brain"></i>
                <span>Zeka Oyunları</span>
                <div class="subject-checkbox"></div>
              </div>
              <div class="subject-item" data-subject="drama">
                <i class="fas fa-theater-masks"></i>
                <span>Drama</span>
                <div class="subject-checkbox"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="branch-modal-footer">
        <button class="btn-ghost" id="clearSelection">Seçimi Temizle</button>
        <button class="btn-secondary" id="saveSubjects">Seçimleri Kaydet</button>
      </div>
    </div>
  </div>

  <script>
    // DOM yüklendiğinde
    document.addEventListener('DOMContentLoaded', function() {
      // Değişkenler
      const progressFill = document.getElementById('progressFill');
      const formSections = document.querySelectorAll('.form-section');
      const nextButtons = document.querySelectorAll('.next-section');
      const prevButtons = document.querySelectorAll('.prev-section');
      const positionOptions = document.querySelectorAll('.position-option');
      const subjectItems = document.querySelectorAll('.subject-item');
      const branchModal = document.getElementById('branchModal');
      const closeModal = document.getElementById('closeModal');
      const clearSelection = document.getElementById('clearSelection');
      const saveSubjects = document.getElementById('saveSubjects');
      const selectedPosition = document.getElementById('selectedPosition');
      const selectedSubjects = document.getElementById('selectedSubjects');
      const selectedPositionDisplay = document.getElementById('selectedPositionDisplay');
      const selectedSubjectsDisplay = document.getElementById('selectedSubjectsDisplay');
      const cvUpload = document.getElementById('cvUpload');
      const photoUpload = document.getElementById('photoUpload');
      const cvInput = document.getElementById('cv');
      const photoInput = document.getElementById('photo');
      const cvFileName = document.getElementById('cvFileName');
      const photoFileName = document.getElementById('photoFileName');
      const form = document.getElementById('applicationForm');
      const formFeedback = document.getElementById('formFeedback');
      const positionError = document.getElementById('positionError');
      const nextToSection3 = document.getElementById('nextToSection3');
      
      // Seçili değerler
      let selectedPositionValue = '';
      let selectedSubjectsArray = [];
      let selectedSubjectsMap = {};
      
      // Ders isimleri eşleştirme
      const subjectNames = {
        'turkce': 'Türkçe',
        'ingilizce': 'İngilizce',
        'arapca': 'Arapça',
        'matematik': 'Matematik',
        'fen': 'Fen Bilimleri',
        'bilgisayar': 'Bilişim Teknolojileri',
        'sosyal': 'Sosyal Bilgiler',
        'din': 'Din Kültürü ve Ahlak Bilgisi',
        'tarih': 'Tarih',
        'beden': 'Beden Eğitimi',
        'muzik': 'Müzik',
        'resim': 'Görsel Sanatlar',
        'sinif': 'Sınıf Öğretmenliği',
        'okuloncesi': 'Okul Öncesi',
        'rehberlik': 'Rehberlik',
        'teknoloji': 'Teknoloji Tasarım',
        'zeka': 'Zeka Oyunları',
        'drama': 'Drama'
      };
      
      // İlerleme çubuğunu güncelle
      function updateProgress(currentSection) {
        let progress = 0;
        
        switch(currentSection) {
          case 'section1': progress = 25; break;
          case 'section2': progress = 50; break;
          case 'section3': progress = 75; break;
          case 'section4': progress = 100; break;
        }
        
        progressFill.style.width = progress + '%';
      }
      
      // Bölüm geçişleri
      function navigateToSection(sectionId) {
        // Tüm bölümleri gizle
        formSections.forEach(section => {
          section.style.display = 'none';
        });
        
        // Hedef bölümü göster
        const targetSection = document.getElementById(sectionId);
        targetSection.style.display = 'block';
        
        // Bölüm 3'te ise seçilen görevi göster
        if (sectionId === 'section3') {
          updateSelectedPositionDisplay();
        }
        
        // İlerleme çubuğunu güncelle
        updateProgress(sectionId);
        
        // Sayfanın başına kaydır
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
      
      // Seçilen görevi göster
      function updateSelectedPositionDisplay() {
        // Görev adlarını eşleştirme
        const positionNames = {
          'teacher': 'Öğretmen',
          'it': 'Bilişim / Bilgi İşlem',
          'management': 'Eğitim Yönetimi',
          'engelli': 'Engelli Personel',
          'finance': 'Finans',
          'security': 'Güvenlik',
          'public': 'Halkla İlişkiler',
          'admin': 'İdari İşler',
          'hr': 'İnsan Kaynakları',
          'driver': 'Şoför',
          'psychologist': 'Psikolog',
          'intern': 'Stajyer',
          'gardener': 'Bahçe İşleri',
          'cook': 'Aşçı',
          'cleaning': 'Temizlik Elemanı'
        };
        
        selectedPositionDisplay.textContent = positionNames[selectedPositionValue] || selectedPositionValue;
        
        // Öğretmen ise seçilen dersleri göster
        if (selectedPositionValue === 'teacher' && selectedSubjectsArray.length > 0) {
          const subjectDisplayNames = selectedSubjectsArray.map(subject => subjectNames[subject] || subject);
          selectedSubjectsDisplay.textContent = `Seçilen Dersler: ${subjectDisplayNames.join(', ')}`;
          selectedSubjectsDisplay.style.display = 'block';
        } else {
          selectedSubjectsDisplay.textContent = '';
          selectedSubjectsDisplay.style.display = 'none';
        }
      }
      
      // Modalı aç
      function openBranchModal() {
        branchModal.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
      
      // Modalı kapat
      function closeBranchModal() {
        branchModal.classList.remove('active');
        document.body.style.overflow = 'auto';
      }
      
      // Ders seçimini güncelle
      function updateSubjectSelection() {
        subjectItems.forEach(item => {
          const subject = item.getAttribute('data-subject');
          if (selectedSubjectsMap[subject]) {
            item.classList.add('selected');
          } else {
            item.classList.remove('selected');
          }
        });
      }
      
      // Bölüm 1'den Bölüm 2'ye
      document.getElementById('nextToSection2').addEventListener('click', function() {
        // Bölüm 1 form doğrulama
        const section1Inputs = document.querySelectorAll('#section1 input[required], #section1 select[required]');
        let isValid = true;
        
        section1Inputs.forEach(input => {
          if (!input.value) {
            isValid = false;
            input.style.borderColor = '#e74c3c';
            input.addEventListener('input', function() {
              this.style.borderColor = '';
            });
          }
        });
        
        if (!isValid) {
          alert('Lütfen zorunlu alanları doldurunuz!');
          return;
        }
        
        navigateToSection('section2');
      });
      
      positionOptions.forEach(option => {
        option.addEventListener('click', function() {
          // Hata mesajını gizle
          positionError.classList.remove('show');
          
          // Tüm seçeneklerden seçili class'ını kaldır
          positionOptions.forEach(opt => opt.classList.remove('selected'));
          
          // Tıklanana seçili class'ını ekle
          this.classList.add('selected');
          
          // Seçili görevi sakla
          selectedPositionValue = this.getAttribute('data-position');
          selectedPosition.value = selectedPositionValue;
          
          // Öğretmen seçildiyse modalı aç
          if (selectedPositionValue === 'teacher') {
            openBranchModal();
          } else {
            // Diğer görevler için ders seçimini temizle
            selectedSubjectsArray = [];
            selectedSubjectsMap = {};
            selectedSubjects.value = '';
          }
          
          // Sonraki butonunu aktif et
          nextToSection3.disabled = false;
        });
      });
      
      // Ders seçimi (modal içinde)
      subjectItems.forEach(item => {
        item.addEventListener('click', function() {
          const subject = this.getAttribute('data-subject');
          
          // Seçili mi kontrol et
          if (selectedSubjectsMap[subject]) {
            // Seçimi kaldır
            selectedSubjectsMap[subject] = false;
          } else {
            // Seçimi ekle
            selectedSubjectsMap[subject] = true;
          }
          
          // Görünümü güncelle
          updateSubjectSelection();
        });
      });
      
      // Modal kapatma
      closeModal.addEventListener('click', closeBranchModal);
      
      // Modal dışına tıklayınca kapat
      branchModal.addEventListener('click', function(e) {
        if (e.target === branchModal) {
          closeBranchModal();
        }
      });
      
      // Seçimi temizle
      clearSelection.addEventListener('click', function() {
        selectedSubjectsMap = {};
        updateSubjectSelection();
      });
      
      // Ders seçimlerini kaydet
      saveSubjects.addEventListener('click', function() {
        // Seçili dersleri array'e çevir
        selectedSubjectsArray = Object.keys(selectedSubjectsMap).filter(key => selectedSubjectsMap[key]);
        
        if (selectedSubjectsArray.length === 0) {
          alert('Lütfen en az bir ders seçiniz!');
          return;
        }
        
        // Seçili dersleri sakla
        selectedSubjects.value = selectedSubjectsArray.join(',');
        
        // Modalı kapat
        closeBranchModal();
      });
      
      // Bölüm 2'den Bölüm 3'e
      nextToSection3.addEventListener('click', function() {
        // Görev seçilmiş mi kontrol et
        if (!selectedPositionValue) {
          positionError.textContent = 'Lütfen bir görev seçiniz!';
          positionError.classList.add('show');
          return;
        }
        
        // Öğretmen seçildiyse ders seçimi kontrol et
        if (selectedPositionValue === 'teacher' && selectedSubjectsArray.length === 0) {
          positionError.textContent = 'Öğretmen görevi için lütfen en az bir ders seçiniz!';
          positionError.classList.add('show');
          // Modalı tekrar aç
          openBranchModal();
          return;
        }
        
        navigateToSection('section3');
      });
      
      // Geri butonları
      prevButtons.forEach(button => {
        button.addEventListener('click', function() {
          const prevSection = this.getAttribute('data-prev');
          navigateToSection(prevSection);
        });
      });
      
      // Bölüm 3'ten Bölüm 4'e
      document.getElementById('nextToSection4').addEventListener('click', function() {
        navigateToSection('section4');
      });
      
      // CV yükleme
      cvUpload.addEventListener('click', function() {
        cvInput.click();
      });
      
      cvInput.addEventListener('change', function() {
        if (this.files.length > 0) {
          const file = this.files[0];
          cvFileName.textContent = file.name;
          cvUpload.style.borderColor = 'var(--accent)';
          cvUpload.style.backgroundColor = 'rgba(42, 157, 143, 0.05)';
        } else {
          cvFileName.textContent = '';
          cvUpload.style.borderColor = '';
          cvUpload.style.backgroundColor = '';
        }
      });
      
      // Fotoğraf yükleme
      photoUpload.addEventListener('click', function() {
        photoInput.click();
      });
      
      photoInput.addEventListener('change', function() {
        if (this.files.length > 0) {
          const file = this.files[0];
          photoFileName.textContent = file.name;
          photoUpload.style.borderColor = 'var(--accent)';
          photoUpload.style.backgroundColor = 'rgba(42, 157, 143, 0.05)';
        } else {
          photoFileName.textContent = '';
          photoUpload.style.borderColor = '';
          photoUpload.style.backgroundColor = '';
        }
      });
      
      // Form gönderimi
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Form doğrulama
        if (!selectedPositionValue) {
          showFeedback('Lütfen bir görev seçiniz.', 'error');
          navigateToSection('section2');
          return;
        }
        
        if (selectedPositionValue === 'teacher' && selectedSubjectsArray.length === 0) {
          showFeedback('Öğretmen görevi için lütfen en az bir ders seçiniz.', 'error');
          navigateToSection('section2');
          return;
        }
        
        // Form verilerini topla
        const formData = new FormData(this);
        
        // Konsola verileri yazdır (test amaçlı)
        console.log('Form verileri:');
        for (let pair of formData.entries()) {
          console.log(pair[0] + ': ' + pair[1]);
        }
        
        // Başarılı gönderim simülasyonu
        showFeedback('Başvurunuz başarıyla alındı! En kısa sürede size dönüş yapacağız.', 'success');
        
        // Formu sıfırla
        setTimeout(() => {
          form.reset();
          cvFileName.textContent = '';
          photoFileName.textContent = '';
          cvUpload.style.borderColor = '';
          cvUpload.style.backgroundColor = '';
          photoUpload.style.borderColor = '';
          photoUpload.style.backgroundColor = '';
          positionOptions.forEach(opt => opt.classList.remove('selected'));
          subjectItems.forEach(item => item.classList.remove('selected'));
          selectedPosition.value = '';
          selectedSubjects.value = '';
          selectedPositionValue = '';
          selectedSubjectsArray = [];
          selectedSubjectsMap = {};
          nextToSection3.disabled = true;
          navigateToSection('section1');
        }, 3000);
      });
      
      // Geri bildirim göster
      function showFeedback(message, type) {
        formFeedback.textContent = message;
        formFeedback.className = `feedback ${type}`;
        formFeedback.style.display = 'block';
        
        // Otomatik gizleme
        setTimeout(() => {
          formFeedback.style.display = 'none';
        }, 5000);
      }
      
      // İlk bölümü göster
      navigateToSection('section1');
    });
  </script>
</body>
</html>